# C

[toc]

## Array
- 概念：一系列类型相同的元素组成的结构就是数组。`type name[number]`
- 指定初始化器（C99）
    ```c
    int arr[6] = {[2]=2,1,0};//将第3个元素初始化为2，1和0将按顺序初始化初始化器之后的元素
    ```
- 多维数组：就是元素是数组的数组，声明和初始化方法以二维数组为例：
    ```c
    int num[3][3] = 
    {
        {1,2,3},
        {4,5,6},
        (7,8,9)
    };
    ```
- 指针和数组，数组名就是数组首元素的地址`arr == &arr[0]`，因此可以使用指针操作数组，以下是指针可以完成的操作：
    1. 赋值：数组名、带地址运算符（&）的变量名以及另一个指针都可以对指针进行赋值。
    2. 使用运算符“*”解引用，不必多说。
    3. 使用运算符“&”取得指针本身的地址。
    4. 指针与整数相加或者整数与指针相加，增加的具体数值是“数字×指向元素所需的字节数”：`arr + 1 == &arr[1]; *(arr + 1) == arr[1]`。
    5. 指针递增（++）和递减（--），如果指向的是数组中的一个元素，运算后将指向下一个或者上一个元素。
    6. 指针减去整数，同理移动的是整数个元素的距离。
    7. 指针求差，计算数组中两个元素之间相距几个元素。
    8. 指针比较，仅支持指向相同数据类型的指针。
    9. 一元运算符*的优先级要高于+，和++优先级相同但是结合律是从右往左，因此`*arr++`是`arr++`先求值，再解引用arr，相当于`*(arr++)`。如果是`(*arr)++`就是对arr指向的元素进行++运算。
    10. 虽然 ar[i] 和 *(ar+i) 是等价的只有当 ar 是指针变量时才能进行ar++，意思是说ar虽然是一个指针，但是不能对他进行赋值。
    - **注意**：不要解引用未初始化的指针，因为未初始化的指针的地址中可能含有未知数据，解引用可能会擦写未知位置的数据。
- 使用指针传递数组给函数
    ```c
    //int *ar 和 int ar[] 都表示ar是一个指向int元素的指针
    //int ar[]只能用于声明形式参数，提示ar指向的是一个int元素组成的数组 
    //以下四种函数声明都是等价的
    int sum(int *ar, int n);
    int sum(int *, int);
    int sum(int ar[], int n);
    int sum(int [], int);
    //但是函数定义中不能省略参数名。
    ```
